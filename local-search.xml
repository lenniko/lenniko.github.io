<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>基于Hexo和Github.Page的个人博客部署</title>
    <link href="/2022/06/24/%E5%9F%BA%E4%BA%8EHexo%E5%92%8CGithub-Page%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/"/>
    <url>/2022/06/24/%E5%9F%BA%E4%BA%8EHexo%E5%92%8CGithub-Page%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>基于VirtualBox和Vagrant的linux虚拟机批量创建</title>
    <link href="/2022/06/24/%E5%9F%BA%E4%BA%8EVirtualBox%E5%92%8CVagrant%E7%9A%84linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA/"/>
    <url>/2022/06/24/%E5%9F%BA%E4%BA%8EVirtualBox%E5%92%8CVagrant%E7%9A%84linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>对于后端开发人员来说，大名鼎鼎的Linux可是必修课之一，在什么微服务、集群、各种分布式系统大行其道的今天，单台Linux在开发中都不太够看了，于是乎发挥下Ctrl+c&#x2F;Ctrl+v工程师的特长，既然单台不够用那就多复制几个批量创建不就行了嘛，本文的目的就是在Windows系统中实现基于VirtualBox和Vagrant批量创建Linux虚拟机系统。</p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="VirtualBox的下载与安装"><a href="#VirtualBox的下载与安装" class="headerlink" title="VirtualBox的下载与安装"></a>VirtualBox的下载与安装</h3><p>VirtualBox 是一款比较知名的轻量化开源虚拟机软件，现由Oracle公司负责开发维护，用于 x86 硬件的通用全虚拟化器，针对服务器、桌面和嵌入式使用。</p><ol><li><p>下载VirtualBox</p><p>官方下载链接<a href="https://www.virtualbox.org/">https://www.virtualbox.org/</a></p><p>版本：6.1.34</p><p>选择适合自身的系统，Windows系统选择 <u>Windows hosts</u> 下载</p></li><li><p>安装VirtualBox</p><p>傻瓜式安装，不再赘述</p></li></ol><h3 id="Vagrant的下载与安装"><a href="#Vagrant的下载与安装" class="headerlink" title="Vagrant的下载与安装"></a>Vagrant的下载与安装</h3><ol><li>下载Vagrant</li></ol><p>         官方下载链接<a href="https://www.vagrantup.com/downloads">Downloads | Vagrant by HashiCorp</a></p><p>         版本：2.2.19</p><p>         选择适合自身的系统，Windows系统选择<u>686</u>下载</p><p>    2. 安装Vagrant</p><p>        傻瓜式安装，注意：Vagrant是没有图形界面的，并且也是没有桌面快捷方式。</p><p>如何确认Vagrant安装成功了呢？</p><p>Vagrant在安装过程中，安装程序会自动把安装路径加入到PATH环境变量，一种方式是查看系统环境变量，安装成功后将会在PATH中看到Vagrant的安装路径。<img src="/.io//Users\zhaoxu\AppData\Roaming\marktext\images\2022-06-24-01-00-31-image.png"></p><p>另一种方式也可打开PowerShell或者Dos命令行窗口，执行下列命令检查是否安装成功，正常显示版本号则表示安装成功</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">vagrant <span class="hljs-comment">--version</span><br></code></pre></td></tr></table></figure><p><img src="/.io//Users\zhaoxu\AppData\Roaming\marktext\images\2022-06-24-01-07-37-image.png"></p><h2 id="Vagrant的基础命令"><a href="#Vagrant的基础命令" class="headerlink" title="Vagrant的基础命令"></a>Vagrant的基础命令</h2><h2 id="Vagrant配置文件详解"><a href="#Vagrant配置文件详解" class="headerlink" title="Vagrant配置文件详解"></a>Vagrant配置文件详解</h2><h2 id="Linux虚拟机的系统设置与SSH连接"><a href="#Linux虚拟机的系统设置与SSH连接" class="headerlink" title="Linux虚拟机的系统设置与SSH连接"></a>Linux虚拟机的系统设置与SSH连接</h2>]]></content>
    
    
    
    <tags>
      
      <tag>VirtualBox</tag>
      
      <tag>Vagrant</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginx如何处理一个请求？</title>
    <link href="/2022/06/21/nginx%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%EF%BC%9F/"/>
    <url>/2022/06/21/nginx%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="基于名字的虚拟主机"><a href="#基于名字的虚拟主机" class="headerlink" title="基于名字的虚拟主机"></a>基于名字的虚拟主机</h2><p>Nginx首先选定由哪一个虚拟主机来处理请求，从一个简单的配置（3个虚拟主机都在端口：80进行监听）开始：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs abnf">server &#123;<br>    listen    <span class="hljs-number">80</span><span class="hljs-comment">;</span><br>    server_name    www.example.com<span class="hljs-comment">;</span><br>    。。。<br>&#125;<br>server &#123;<br>    liseten    <span class="hljs-number">80</span><span class="hljs-comment">;</span><br>    server_name    www.example.org<span class="hljs-comment">;</span><br>    。。。<br>&#125;<br>server &#123;<br>    listen    <span class="hljs-number">80</span><span class="hljs-comment">;</span><br>    server_name    www.example.net<span class="hljs-comment">;</span><br>    。。。<br>&#125;<br></code></pre></td></tr></table></figure><p>上述配置中，listen配置为监听端口，server_name配置为服务名称，nginx检查请求的”Host”头来决定请求应有哪个虚拟机来处理，如果Host头没有匹配任何一个虚拟主机，则Nginx会将请求分发到定义在此端口上的默认虚拟主机，以上配置中，第一个被列出的虚拟主机即是Nginx的默认主机——这是Nginx的默认行为。若要设置某个主机位默认虚拟主机，即在”listen”指令中设置”default_server”参数。</p><p>实例演示涉及到的前置条件：</p><p>1.安装Nginx</p><p>2.安装vim，熟悉vi操作命令</p><p>3.了解基本的html文件结构</p><p>基于Mac主机的实例演示：</p><p>1.修改Nginx配置文件nginx.conf：进入Nginx的安装目录，复制如下内地到Nginx.conf文件中，其中root路径表示访问的根目录，需根据实际情况进行调整。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment">#user  nobody;</span><br><span class="hljs-attribute">worker_processes</span>  <span class="hljs-number">1</span>;<br><br><span class="hljs-comment">#error_log  logs/error.log;</span><br><span class="hljs-comment">#error_log  logs/error.log  notice;</span><br><span class="hljs-comment">#error_log  logs/error.log  info;</span><br><br><span class="hljs-comment">#pid        logs/nginx.pid;</span><br><br><br><span class="hljs-section">events</span> &#123;<br>    <span class="hljs-attribute">worker_connections</span>  <span class="hljs-number">1024</span>;<br>&#125;<br><br><br><span class="hljs-section">http</span> &#123;<br>    <span class="hljs-attribute">include</span>       mime.types;<br>    <span class="hljs-attribute">default_type</span>  application/octet-stream;<br><br>    <span class="hljs-comment">#log_format  main  &#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span><br>    <span class="hljs-comment">#                  &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span><br>    <span class="hljs-comment">#                  &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;</span><br><br>    <span class="hljs-comment">#access_log  logs/access.log  main;</span><br>    <span class="hljs-attribute">sendfile</span>        <span class="hljs-literal">on</span>;<br>    <span class="hljs-comment">#tcp_nopush     on;</span><br><br>    <span class="hljs-comment">#keepalive_timeout  0;</span><br>    <span class="hljs-attribute">keepalive_timeout</span>  <span class="hljs-number">65</span>;<br><br>    <span class="hljs-comment">#gzip  on;</span><br><br>    <span class="hljs-section">server</span> &#123;<br>        <span class="hljs-attribute">listen</span>     <span class="hljs-number">80</span>;<br>        <span class="hljs-attribute">server_name</span>    www.example.com;<br>        <span class="hljs-attribute">root</span>    /Users/zhaoxufeng/www/example.com;<br>        <span class="hljs-section">location</span> / &#123;<br>            <span class="hljs-attribute">index</span>     index.html index.php;<br>        &#125;<br>        <span class="hljs-section">location</span> <span class="hljs-regexp">~* \.(gif|jpg|png)$</span> &#123;<br>            <span class="hljs-attribute">expires</span> <span class="hljs-number">30d</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-section">server</span> &#123;<br>        <span class="hljs-attribute">listen</span>     <span class="hljs-number">80</span>;<br>        <span class="hljs-attribute">server_name</span>    www.example.org;<br>        <span class="hljs-attribute">root</span> /Users/zhaoxufeng/www/example.org;<br>        <span class="hljs-section">location</span> / &#123;<br>            <span class="hljs-attribute">index</span>   index.html index.php;<br>        &#125;<br>        <span class="hljs-section">location</span> <span class="hljs-regexp">~* \.(gif|jpg|png)$</span> &#123;<br>            <span class="hljs-attribute">expires</span> <span class="hljs-number">30d</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-section">server</span> &#123;<br>        <span class="hljs-attribute">listen</span>     <span class="hljs-number">80</span>;<br>        <span class="hljs-attribute">server_name</span>    www.example.net;<br>        <span class="hljs-attribute">root</span> /Users/zhaoxufeng/www/example.net;<br>        <span class="hljs-section">location</span> / &#123;<br>            <span class="hljs-attribute">index</span>   index.html index.php;<br>        &#125;<br>        <span class="hljs-section">location</span> <span class="hljs-regexp">~* \.(gif|jpg|png)$</span> &#123;<br>            <span class="hljs-attribute">expires</span> <span class="hljs-number">30d</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">#error_page  404              /404.html;</span><br><br>    <span class="hljs-comment"># redirect server error pages to the static page /50x.html</span><br>    <span class="hljs-comment">#</span><br><br><br>    <span class="hljs-comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment">#location ~ \.php$ &#123;</span><br>    <span class="hljs-comment">#    proxy_pass   http://127.0.0.1;</span><br>    <span class="hljs-comment">#&#125;</span><br><br>    <span class="hljs-comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment">#location ~ \.php$ &#123;</span><br>    <span class="hljs-comment">#    root           html;</span><br>    <span class="hljs-comment">#    fastcgi_pass   127.0.0.1:9000;</span><br>    <span class="hljs-comment">#    fastcgi_index  index.php;</span><br>    <span class="hljs-comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br>    <span class="hljs-comment">#    include        fastcgi_params;</span><br>    <span class="hljs-comment">#&#125;</span><br><br>    <span class="hljs-comment"># deny access to .htaccess files, if Apache&#x27;s document root</span><br>    <span class="hljs-comment"># concurs with nginx&#x27;s one</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment">#location ~ /\.ht &#123;</span><br>    <span class="hljs-comment">#    deny  all;</span><br>    <span class="hljs-comment">#&#125;</span><br><br><br>    <span class="hljs-comment"># another virtual host using mix of IP-, name-, and port-based configuration</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment">#server &#123;</span><br>    <span class="hljs-comment">#    listen       8000;</span><br>    <span class="hljs-comment">#    listen       somename:8080;</span><br>    <span class="hljs-comment">#    server_name  somename  alias  another.alias;</span><br><br>    <span class="hljs-comment">#    location / &#123;</span><br>    <span class="hljs-comment">#        root   html;</span><br>    <span class="hljs-comment">#        index  index.html index.htm;</span><br>    <span class="hljs-comment">#    &#125;</span><br>    <span class="hljs-comment">#&#125;</span><br><br><br>    <span class="hljs-comment"># HTTPS server</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment">#server &#123;</span><br>    <span class="hljs-comment">#    listen       443 ssl;</span><br>    <span class="hljs-comment">#    server_name  localhost;</span><br><br>    <span class="hljs-comment">#    ssl_certificate      cert.pem;</span><br>    <span class="hljs-comment">#    ssl_certificate_key  cert.key;</span><br><br>    <span class="hljs-comment">#    ssl_session_cache    shared:SSL:1m;</span><br>    <span class="hljs-comment">#    ssl_session_timeout  5m;</span><br><br>    <span class="hljs-comment">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br>    <span class="hljs-comment">#    ssl_prefer_server_ciphers  on;</span><br><br>    <span class="hljs-comment">#    location / &#123;</span><br>    <span class="hljs-comment">#        root   html;</span><br>    <span class="hljs-comment">#        index  index.html index.htm;</span><br>    <span class="hljs-comment">#    &#125;</span><br>    <span class="hljs-comment">#&#125;</span><br>    <span class="hljs-attribute">include</span> servers/*;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.生成访问资源</p><p>在上述Nginx.conf的配置server中root下分别建立三个文件夹example.com;example.org;example.net，每个文件内新建index.html文件并添加两幅图片，分别进行命名进行区分。</p><p>3.修改本机Hosts文件</p><p>Mac的Hosts配置文件路径为”&#x2F;etc”，执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /etc<br>sudo vi hosts<br></code></pre></td></tr></table></figure><p>Mac的Hosts配置文件中添加如下三行：</p><blockquote><p>127.0.0.1    <a href="http://www.example.com/">www.example.com</a></p><p>127.0.0.1    <a href="http://www.example.org/">www.example.org</a></p><p>127.0.0.1    <a href="http://www.example.net/">www.example.net</a></p></blockquote>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
